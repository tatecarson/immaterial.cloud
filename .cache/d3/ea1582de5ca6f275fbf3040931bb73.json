{"id":"AutoPlay.js","dependencies":[{"name":"/Users/tatecarson/webDev/vibration-music/granular/package.json","includedInParent":true,"mtime":1586051670864},{"name":"simplex-noise","loc":{"line":1,"column":25},"parent":"/Users/tatecarson/webDev/vibration-music/granular/src/AutoPlay.js","resolved":"/Users/tatecarson/webDev/vibration-music/granular/node_modules/simplex-noise/simplex-noise.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _simplexNoise = _interopRequireDefault(require(\"simplex-noise\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst simplex = new _simplexNoise.default(Math.random);\nconst ID = 'autoPlay';\n\nclass AutoPlay {\n  constructor(granular) {\n    this.granular = granular;\n    this.running = false;\n  }\n\n  isRunning() {\n    return this.running;\n  }\n\n  start() {\n    if (this.running) {\n      return;\n    }\n\n    const {\n      granular\n    } = this;\n    this.running = true;\n    let x = simplex.noise2D(performance.now() / 10000, 0),\n        y = simplex.noise2D(performance.now() / 10000 + 1000, 0);\n    granular.set({\n      pitch: 1\n    });\n    granular.startVoice({\n      id: ID,\n      position: map(x, -1, 1, 0, 1),\n      volume: 0.5\n    });\n\n    const run = () => {\n      x = simplex.noise2D(performance.now() / 10000, 0);\n      y = simplex.noise2D(performance.now() / 10000 + 1000, 0);\n      granular.set({\n        pitch: 1\n      });\n      granular.updateVoice(ID, {\n        position: map(x, -1, 1, 0, 1),\n        volume: 0.5\n      });\n\n      if (this.running) {\n        setTimeout(run);\n      }\n    };\n\n    run();\n  }\n\n  stop() {\n    this.granular.stopVoice(ID);\n    this.running = false;\n  }\n\n}\n\nexports.default = AutoPlay;\n\nfunction map(value, inMin, inMax, outMin, outMax) {\n  return (value - inMin) * (outMax - outMin) / (inMax - inMin) + outMin;\n}"},"sourceMaps":null,"error":null,"hash":"af40c81732436029e741b6c2d9665aa7","cacheData":{"env":{}}}